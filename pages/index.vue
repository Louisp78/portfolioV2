<script lang="ts" setup>
import { educationListFactory } from '~/data/educations'
import { experiencesListFactory } from '~/data/experiences'
import { projectListFactory } from '~/data/projects'
import type Education from '~/types/Education'
import type Project from '~/types/Project'

useHead({
  script: [
    {
      src: 'https://www.google.com/recaptcha/api.js',
      async: true,
      defer: true,
    },
  ],
})

const { t } = useI18n()

const contactEmail = 'placelouis@gmail.com'

definePageMeta({
  title: 'seo.index-title',
})

const expList = experiencesListFactory(t)
const educationList: Education[] = educationListFactory(t)
const projectList: Project[] = projectListFactory(t)

const allSkillList = computed(() => {
  let allSkill = projectList.map(elt => elt.skills).flat()
  allSkill = allSkill.concat(expList.map(elt => elt.skills).flat())
  allSkill = allSkill.concat([
    {
      title: 'Python',
    },
  ])
  allSkill = Array.from(
    new Map(allSkill.map(item => [item.title, item])).values(),
  )
  return allSkill
})
</script>

<template>
  <div>
    <!-- TODO: fix logo nuxt img for responsivity -->
    <FloatingQuoteBtn />
    <div id="about-me">
      <div class="bg-background-beach bg-cover bg-no-repeat pt-20">
        <div class="flex flex-col lg:flex-row-reverse lg:justify-between pb-20">
          <section class="flex flex-col items-center mt-12 min-w-fit">
            <NuxtImg
              format="webp"
              src="/img/me.png"
              class="rounded-full mb-7"
              sizes="200px lg:300px"
              :modifiers="{ rotate: null }"
              alt="Photo of me"
            />
            <nav class="flex flex-col items-center gap-3">
              <ul>
                <li>
                  <NuxtLink
                    to="https://www.linkedin.com/in/louis-place"
                    target="_blank"
                    class="btn-primary"
                  >
                    <Icon
                      name="entypo-social:linkedin-with-circle"
                      :size="ICON_SIZE"
                    />
                    <span>louis-place</span>
                  </NuxtLink>
                </li>
                <li>
                  <NuxtLink
                    to="https://github.com/louisp78/"
                    target="_blank"
                    class="btn-primary"
                  >
                    <Icon
                      name="carbon:logo-github"
                      :size="ICON_SIZE"
                    />
                    <span>Louisp78</span>
                  </NuxtLink>
                </li>
              </ul>
              <NuxtLink
                to="/cv.pdf"
                target="_blank"
                class="btn-primary w-fit"
                external
              >
                <Icon
                  name="mdi:resume"
                  :size="ICON_SIZE"
                />
                <span>{{ $t('get-my-resume') }}</span>
              </NuxtLink>
            </nav>
          </section>
          <section class="mt-10 text-center lg:text-left lg:max-w-3xl">
            <header class="pb-5">
              <h2>{{ $t('hello-im-louis') }}</h2>
              <h3>{{ $t('job-title') }}</h3>
            </header>
            <article class="flex flex-col gap-5 mb-5 lg:mb-10 lg:w-fit">
              <div>
                <p>
                  üë®‚Äçüíª <b>Ing√©nieur mobile passionn√©</b>, je con√ßoit des
                  applications mobiles compl√®te, performante et durable afin
                  quels puisse √™tre facilement √©voluer vers le concept que vous
                  avez imaginez üí°
                </p>
                <p>
                  Exp√©riment√© en <b>React Native</b>, je ma√Ætrise √©galement les
                  environnements natifs iOS (<b>Swift</b>) et Android
                  (<b>Kotlin</b>) pour r√©pondre √† des besoins techniques pointus
                  et garantir des exp√©riences utilisateur optimales. De plus, je
                  suis √©galement capable de concevoir des backends robustes dans
                  l‚Äô√©cosyst√®me <b>Node.js</b> ou avec <b>Java Spring Boot</b>,
                  ce qui fait de moi un profil complet, capable de prendre en
                  charge l‚Äôensemble du processus de d√©veloppement d‚Äôune
                  application.
                </p>
              </div>
              <AccordionComponent>
                <template #title>
                  <h4>üåü Comment je peux vous √™tre utile ?</h4>
                </template>
                <template #body>
                  <ol class="flex flex-col gap-1 pl-10 list-disc pr-5">
                    <li>
                      D√©veloppement mobile Android/iOS avec React Native, Swift
                      ou Kotlin.
                    </li>
                    <li>
                      D√©veloppement de back-ends robustes (Java Spring Boot,
                      Node.js, Express).
                    </li>
                    <li>
                      Mise en place de pipelines CI/CD fiables pour automatiser
                      les d√©ploiements.
                    </li>
                    <li>Conception de design UI / UX d'√©crans.</li>
                    <li>
                      Audits techniques et optimisations de codebases
                      existantes.
                    </li>
                  </ol>
                </template>
              </AccordionComponent>
              <AccordionComponent>
                <template #title>
                  <h4>üöÄ Exemples de r√©alisations</h4>
                </template>
                <template #body>
                  <div class="flex flex-col gap-5 pb-3">
                    <ol class="flex flex-col gap-1 pl-10 pr-5 list-disc">
                      <li>
                        Migration de deux applications Bare React Native vers
                        l‚Äôenvironnement Expo SDK avec automatisation des builds
                        et d√©ploiements.
                      </li>
                      <li>
                        D√©veloppement d‚Äôune application de t√©l√©phonie et
                        communication pour des populations isol√©es, avec un
                        back-end s√©curis√© en Java Spring Boot.
                      </li>
                      <li>
                        Conception, design et cr√©ation d'un widget natif iOS
                        pour une application React Native.
                      </li>
                    </ol>
                    <div class="flex flex-row justify-center">
                      <NuxtLink
                        to="#projects"
                        class="btn-primary w-fit text-sm"
                      >
                        Voir plus
                      </NuxtLink>
                    </div>
                  </div>
                </template>
              </AccordionComponent>
              <AccordionComponent>
                <template #title>
                  <h4>ü´µ Pourquoi travailler avec moi ?</h4>
                </template>
                <template #body>
                  <ol class="flex flex-col gap-1 list-disc pl-10 pr-5">
                    <li>
                      <b>Passion et expertise :</b> Mon int√©r√™t constant pour
                      l‚Äôinnovation et les nouvelles technologies me permet de
                      proposer des solutions modernes et performantes. Je veille
                      quotidiennement √† me tenir inform√© des √©volutions des
                      technologies que j‚Äôutilise.
                    </li>
                    <li>
                      <b>Design et conception :</b> Gr√¢ce √† une solide ma√Ætrise
                      des principes de design UI et UX, je suis en mesure
                      d‚Äôapporter une valeur ajout√©e significative √† la cr√©ation
                      et √† l‚Äôoptimisation de votre application.
                    </li>
                    <li>
                      <b>Flexibilit√© et pragmatisme :</b> J‚Äôadapte mes approches
                      selon vos priorit√©s, en allouant les ressources et le
                      temps de mani√®re proportionn√©e √† l‚Äôimportance de chaque
                      fonctionnalit√©.
                    </li>
                    <li>
                      <b>Exp√©rience internationale :</b> Habitu√© √† travailler
                      avec des √©quipes dispers√©es, je ma√Ætrise les outils et
                      m√©thodologies pour un remote efficace.
                    </li>
                  </ol>
                </template>
              </AccordionComponent>
            </article>
            <div
              class="flex flex-col items-center gap-3 text-center lg:text-left lg:items-start"
            >
              <div class="flex flex-col md:flex-row items-center gap-3">
                <!-- TODO : Add a tooltip for the btn with my email adress -->
                <NuxtLink
                  :to="`mailto:${contactEmail}`"
                  class="button"
                >
                  <Icon
                    name="ic:outline-email"
                    :size="ICON_SIZE"
                  />
                  <span>
                    {{ $t('send-me-an-email') }}
                  </span>
                </NuxtLink>
                <span class="font-inconsolata font-medium">
                  {{ $t('or') }}
                </span>
                <NuxtLink
                  to="https://www.malt.fr/profile/louisplace"
                  target="_blank"
                  class="flex flex-row items-center gap-2 px-3 border-2 rounded-md bg-softSand border-burnedSand"
                >
                  <span class="relative w-3">
                    <span
                      class="animate-ping absolute -top-1 inline-flex h-3 w-3 rounded-full bg-darkGreen opacity-80"
                    />
                    <span
                      class="absolute -top-1 inline-flex h-3 w-3 rounded-full bg-darkGreen"
                    />
                  </span>
                  <span class="font-inconsolata font-medium">{{ $t('hire-me-on') }}
                  </span>
                  <Icon
                    name="simple-icons:malt"
                    size="45"
                  />
                </NuxtLink>
              </div>
            </div>
          </section>
        </div>
        <div
          class="flex flex-col justify-between text-white gap-10 lg:flex-row pb-20 bg-custom-gradient"
        >
          <section class="text-center lg:text-left lg:w-full">
            <div
              id="exp"
              class="relative -top-20"
            />
            <h2 class="pb-5 lg:pb-10">
              {{ $t('experiences-title') }}
            </h2>
            <ul class="expList">
              <ExperienceItem
                v-for="expItem in expList"
                :key="expItem.title"
                :v-model="expItem"
              />
            </ul>
          </section>
          <section class="lg:w-full">
            <div
              id="edu"
              class="relative -top-20"
            />
            <h2 class="pb-5 text-center lg:pb-10 lg:text-right">
              {{ $t('education-title') }}
            </h2>
            <ul class="eduList text-center">
              <EducationItem
                v-for="education in educationList"
                :key="education.title"
                :v-model="education"
              />
            </ul>
          </section>
        </div>
      </div>
      <section
        id="projects"
        class="bg-white text-center pb-28 md:pb-20"
      >
        <h2 class="py-16">
          {{ $t('projects-title') }}
        </h2>
        <ul class="projectList">
          <li
            v-for="project in projectList"
            :key="project.title"
          >
            <ProjectItem :v-model="project" />
          </li>
        </ul>
      </section>
      <section class="text-center pb-10">
        <h2 class="pb-5">
          {{ $t('my-toolkit') }}
        </h2>
        <div class="skillContainer">
          <SkillLabel
            v-for="skill in allSkillList"
            :key="skill.title"
            :v-model="skill"
          />
        </div>
      </section>
    </div>
    <!-- TODO : Afficher un bouton "me contacter" lorsque l'utilisateur arrive √† la derni√®re section de lecture -->
  </div>
</template>

<style scoped lang="postcss">
  .btn-primary {
    @apply flex justify-center items-center gap-3 p-2 font-inconsolata font-medium border border-black rounded-md hover:bg-sand hover:text-burnedSand;
  }
  .expList {
    @apply flex flex-col items-center gap-10 md:px-20 lg:px-0 lg:pl-12 pb-10;
  }
  .eduList {
    @apply flex flex-col items-center lg:items-end lg:text-right gap-10 md:px-20 lg:px-0;
  }
  .projectList {
    @apply flex flex-col gap-24 md:gap-10;
  }

  ul {
    @apply flex flex-row gap-3;
  }
</style>
